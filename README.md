# Getting vulnerabilities for images with Google Container Registry

Container Analysis provides vulnerability scanning and metadata storage for containers.

## Description

## Demo
### Enable Google Container Registry and Scanning API
#### Retrieve available api list
```
$ gcloud services list --available
```

#### Enable `Container Registry API` and `Container Scanning API`

- gcloud services enable **SERVICE_NAME**

```
$ gcloud services enable containerregistry.googleapis.com
$ gcloud services enable containerscanning.googleapis.com
```

### Create vulnable images

```
$ ./script/create-vulnable-image.fish -o struts
$ ./script/create-vulnable-image.fish -o python
```

### Push images to GCR

```
$ gcloud auth configure-docker
$ docker push gcr.io/(gcloud config get-value project)/vulnerabilities-demo:struts
$ docker push gcr.io/(gcloud config get-value project)/vulnerabilities-demo:python
```

### Retrieve Vulnerabilities
```
$ gcloud beta container images describe gcr.io/(gcloud config get-value project)/vulnerabilities-demo:struts --show-package-vulnerability
$ gcloud beta container images describe gcr.io/(gcloud config get-value project)/vulnerabilities-demo:python --show-package-vulnerability
```

## Features

- feature:1
- feature:2

## Requirement

## Usage

## Installation

## Licence

Released under the [MIT license](https://gist.githubusercontent.com/shinyay/56e54ee4c0e22db8211e05e70a63247e/raw/34c6fdd50d54aa8e23560c296424aeb61599aa71/LICENSE)

## Author

[shinyay](https://github.com/shinyay)
